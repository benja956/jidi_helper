![My Logo](pic1.png)
===================
英雄联盟大乱斗助手功能规划文档
===================

一、需求分析
-------------------
1. 核心需求
    - 分析玩家大乱斗游戏倾向
    - 展示英雄数据和胜率
    - 辅助玩家选择最优英雄
    - 无缝附着在游戏客户端

2. 用户体验需求
    - 界面简洁美观
    - 操作便捷直观
    - 不影响游戏体验
    - 数据实时更新

3. 技术需求
    - 稳定连接游戏客户端
    - 准确获取游戏数据
    - 高效处理数据分析
    - 实时响应界面更新

二、功能模块设计
-------------------
1. GUI界面
    1.1 附着功能
        - L形布局设计
            * 左侧：召唤师信息面板
            * 上方：英雄选择面板
        - 窗口特性
            * 无边框设计
            * 始终置顶
            * 半透明背景
            * 自动跟随客户端位置
        
    1.2 召唤师信息面板（左侧）
        - 布局设计
            * 固定宽度：200px
            * 自适应高度
            * 垂直排列5个召唤师卡片
        - 信息展示
            * 召唤师名称
            * 大乱斗含量(%)
            * 胜率统计(%)
            * KDA数据
            * 已选英雄信息
                - 英雄名称
                - 排名
                - 胜率
        
    1.3 英雄选择面板（上方）
        - 布局设计
            * 水平排列12个英雄卡片
            * 固定高度：200px
            * 自适应宽度
        - 信息展示
            * 英雄名称
            * 胜率数据
            * 排名信息
        - 特殊标记
            * T30英雄金色边框提示
            
    1.4 控制面板
        - 重启客户端按钮
            * 位置：召唤师面板底部
            * 样式：半透明背景
            * 功能：一键重启客户端
        - 关闭软件按钮
            * 位置：重启按钮下方
            * 样式：与重启按钮统一
            * 功能：退出程序

2. LCU客户端交互
    2.1 连接管理
        - 客户端密钥获取
            * 优先使用PowerShell
            * 自动获取端口和令牌
        - 连接维护
            * 自动重连机制
            * SSL证书验证禁用
            * 连接状态监控
    
    2.2 数据获取
        - 基础信息
            * 对局状态
            * 召唤师列表
            * 英雄选择信息
        - 详细数据
            * 召唤师战绩历史
            * 英雄统计数据
            * 实时选择状态
    
    2.3 操作功能
        - 客户端控制
            * 重启功能
            * 状态监控

3. 数据管理
    3.1 数据更新机制
        - 游戏数据更新
            * 更新间隔：2秒
            * 触发条件：对局进行中
        - 窗口位置更新
            * 更新间隔：100ms
            * 触发条件：客户端移动
    
    3.2 数据处理
        - 召唤师数据
            * 大乱斗游戏占比计算
            * 胜率统计
            * KDA计算
        - 英雄数据
            * 胜率分析
            * 排名计算
            * T级别判定

4. 错误处理
    4.1 异常捕获
        - 客户端异常
            * 未启动处理
            * 连接断开处理
        - 网络异常
            * 请求超时处理
            * 连接失败处理
        - 数据异常
            * 数据缺失处理
            * 格式错误处理
    
    4.2 错误反馈
        - 控制台日志
            * 错误详细信息
            * 异常堆栈跟踪
        - 界面提示
            * 状态更新
            * 错误提示

5. 配置管理
    5.1 基础配置
        - API配置
            * 接口地址映射
            * 请求参数配置
        - 界面配置
            * 样式设置
            * 更新间隔
        - 系统配置
            * 日志级别
            * 缓存设置

6. 打包发布
    6.1 环境依赖
        - 核心依赖
            * PyQt6：GUI框架
            * requests：HTTP客户端
            * pywin32：Windows API
        - 开发依赖
            * PyInstaller：打包工具
    
    6.2 打包配置
        - 单文件模式
        - 资源文件打包
        - 依赖自动包含

三、待优化功能
-------------------
1. 界面优化
    - 错误提示弹窗系统
    - 加载状态动画
    - 设置界面
    - 数据可视化图表

2. 功能扩展
    - 自动抢英雄系统
    - 数据统计分析
    - 配置持久化
    - 快捷键支持

3. 性能优化
    - 数据缓存机制
    - 请求频率优化
    - 内存使用优化
    - 启动速度优化
